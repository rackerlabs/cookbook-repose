<?xml version="1.0" encoding="UTF-8"?>

<% if @version.nil? || @version.split('.')[0].to_i < 6 %>
<add-headers xmlns="http://docs.api.rackspacecloud.com/repose/add-header/v1.0">
<% else %>
<add-headers xmlns="http://docs.openrepose.org/repose/add-header/v1.0">
<% end %>  
  <!-- This section is for headers to add in the request -->
  <% if !@requests.empty? %>
    <request>
    <% @requests.each do |request| %>
      <header
        name="<%= request['name'] %>"
        quality="<%= request['quality'] %>"
        overwrite="<%= request['overwrite'] %>"
        ><%= request['value'] %></header>
    <% end %>
    </request>
  <% else %>
    <request>
      <header name=""></header>
    </request>
  <% end %>

  <!-- This section is for headers to add in the response -->
  <% if !@responses.empty? %>
    <response>
    <% @responses.each do |response| %>
      <header
        name="<%= response['name'] %>"
        quality="<%= response['quality'] %>"
        overwrite="<%= response['overwrite'] %>"
        ><%= response['value'] %></header>
    <% end %>
    </response>
   <% end %>
</add-headers>
