<% if !@version.nil? && @version.split('.')[0].to_i < 7 %>
<http-connection-pools xmlns="http://docs.rackspacecloud.com/repose/http-connection-pool/v1.0">
<% else %>
<http-connection-pools xmlns="http://docs.openrepose.org/repose/http-connection-pool/v1.0">
<% end %>

    <!-- Configuration for the default pool. Any users of the service will by
         default, retrieve HTTP connections using this default pool configuration.
    -->
    <pool id="default"
          default="true"
          chunked-encoding="<%= @chunked_encoding %>"
          http.conn-manager.max-total="<%= @max_total %>"
          http.conn-manager.max-per-route="<%= @max_per_route %>"
          http.socket.timeout="<%= @socket_timeout %>"
          http.socket.buffer-size="<%= @socket_buffer_size %>"
          http.connection.timeout="<%= @connection_timeout %>"
          http.connection.max-line-length="<%= @connection_max_line_length %>"
          http.connection.max-header-count="<%= @connection_max_header_count %>"
          http.connection.max-status-line-garbage="<%= @connection_max_status_line_garbage %>"
          http.tcp.nodelay="<%= @tcp_nodelay %>"
          keepalive.timeout="<%= @keepalive_timeout %>"/>

</http-connection-pools>
